import WebSocket from 'ws';

// WebSocket URL 및 설정
const url = 'wss://nojong62.github.io/transtalk';

// WebSocket 클라이언트 생성
const ws = new WebSocket(url);

ws.on('open', function open() {
    console.log('User connected to the WebSocket server.');

    // 기본 메시지 전송
    ws.send(JSON.stringify({
        type: 'response.create',
        response: {
            modalities: ["text"],
            instructions: "Please assist the user.",
        }
    }));
});

ws.on('message', function incoming(message) {
    console.log('Message from server:', JSON.parse(message.toString()));
});

ws.on('error', function error(err) {
    console.error('WebSocket error:', err);
});

ws.on('close', function close() {
    console.log('WebSocket connection closed.');
});
